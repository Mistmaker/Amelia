<div class="card">
    <div class="card-header card-header-info">
        <h4 class="card-title">Proveedores</h4>
        <p class="card-category">Mantenimiento</p>
    </div>

    <div class="card-body">
        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
            <button routerLink="/proveedores" class="btn btn-primary mt-1"><i class="fas fa-long-arrow-alt-left"></i> Regresar</button>
        </div>
        <form (ngSubmit)="f.form.valid && saveSupplier(f)" #f="ngForm">
            <div class="form-group">
                <div class="row">
                    <div class="col-sm-12 col-md-3">
                        <div class="form-group">
                            <label>Tipo de Identificación</label>
                            <select [(ngModel)]="supplier.PRO_TIPOIDE" name="typeTaxpayer" #typeTaxpayer (change)="onChangeSelect(typeTaxpayer.value)" class="form-control">
                        <option
                          *ngFor="let type of typeClient"
                          [value]="type.ticli_codigo">
                          {{ type.ticli_nombre }}
                        </option>
                      </select>
                        </div>
                    </div>

                    <div class="col-sm-12 col-md-3">
                        <label>Ced/Ruc</label>
                        <div class="input-group">
                            <input [(ngModel)]="supplier.PRO_CODIGO" type="text" class="form-control" name="documento" placeholder="9999999999" maxlength="13" required />
                            <button *ngIf="showButton" type="button" class="btn btn-primary" (click)="searchDataOnline()"><i class="fas fa-search"></i></button>
                            <!-- <div *ngIf="buscando" class="mt-1">
                                <i class="fas fa-spinner fa-2x fa-spin"></i>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label>Nombre</label>
                <input [(ngModel)]="supplier.PRO_NOMBRE" name="name" #name="ngModel" placeholder="Nombre proveedor" type="text" class="form-control" minlength="4" required />
                <div *ngIf="f.submitted && name.invalid" class="alert bg-warning">
                    <div *ngIf="name.errors.required">Nombre requeridos</div>
                    <div *ngIf="name.errors.minlength">
                        Debe tener mínimo 4 letras
                    </div>
                    <div *ngIf="name.errors.forbiddenName">
                        No puede colocar ese nombre
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label>Nombre Comercial</label>
                <input [(ngModel)]="supplier.PRO_NOMBREC" name="comercialName" #comercialName="ngModel" placeholder="Nombre Comercial del Proveedor" type="text" class="form-control" minlength="4" required />
                <div *ngIf="f.submitted && comercialName.invalid" class="alert bg-warning">
                    <div *ngIf="comercialName.errors.required">
                        Nombre requeridos
                    </div>
                    <div *ngIf="comercialName.errors.minlength">
                        Debe tener mínimo 4 letras
                    </div>
                    <div *ngIf="comercialName.errors.forbiddenName">
                        No puede colocar ese nombre
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Dirección</label>
                            <input [(ngModel)]="supplier.PRO_DIRECCION1" name="address" placeholder="Dirección" type="text" class="form-control form-control-sm" />
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Teléfono</label>
                            <input [(ngModel)]="supplier.PRO_TELEFONO1" name="phone" placeholder="Teléfono" type="text" class="form-control form-control-sm" />
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Email</label>
                            <input [(ngModel)]="supplier.PRO_CORREO" name="address" placeholder="Email" type="text" class="form-control form-control-sm" />
                        </div>
                    </div>
                </div>
            </div>

            <!-- <div class="form-group">
                              <label>Fecha de ingreso</label>
                              <input type="date" class="form-control" [(ngModel)]="cliente.CLI_FECING" name="fecha">
                          </div> -->

            <hr />
            <div class="form-group text-center">
                <button class="btn btn-primary w-50" type="submit">
                  <i class="fas fa-save"></i> Guardar
                </button>
                <button *ngIf="showDeleteButton" (click)="deleteProveedor()" class="btn btn-danger w-50" type="button"> <i class="fas fa-trash-alt"></i> Borrar </button>
            </div>
        </form>
    </div>
</div>