<div class="card">
    <div class="card-header card-header-info">
        <h4 class="card-title">Usuarios</h4>
        <p class="card-category">Creación/Mantenimiento de usuarios</p>
    </div>

    <div class="card-body">
        <div class="text-right mr-3">
            <button routerLink="/usuarios" class="btn btn-primary mt-1">
                <i class="fas fa-long-arrow-alt-left"></i> Regresar
            </button>
        </div>
        <form (ngSubmit)="f.form.valid && guardar(f)" #f="ngForm">
            <div class="form-group">
                <label class="form-label">Asesor *</label>
                <select [(ngModel)]="usuario.VEN_CODIGO" name="asesor" (change)="cargarNombre(usr.value)" #usr="ngModel" class="form-control form-control-sm" required>
                    <option *ngFor="let vendedor of vendedores" [value]="vendedor.VEN_CODIGO">
                        {{ vendedor.VEN_NOMBRE }}
                    </option>
                </select>
                <div *ngIf="f.submitted && usr.invalid" class="alert bg-warning">
                    <div *ngIf="usr.errors.required">Asesor requerido</div>
                </div>
            </div>
            <div class="form-group">
                <label>Usuario *</label>
                <input [(ngModel)]="usuario.USUIDENTIFICACION" name="codigo" #codigo="ngModel" placeholder="Nombre de usuario" type="text" class="form-control" minlength="5" maxlength="10" required />
                <div *ngIf="f.submitted && codigo.invalid" class="alert bg-warning">
                    <div *ngIf="codigo.errors.required">Usuario requerido</div>
                    <div *ngIf="codigo.errors.minlength">Debe tener mínimo 5 letras</div>
                    <div *ngIf="codigo.errors.forbiddenName">
                        No puede colocar ese nombre
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label>Contraseña *</label>
                <input [(ngModel)]="usuario.USUCLAVE" name="name" #name="ngModel" placeholder="Contraseña" type="password" class="form-control" minlength="4" maxlength="10" required />
                <div *ngIf="f.submitted && name.invalid" class="alert bg-warning">
                    <div *ngIf="name.errors.required">Contraseña requerida</div>
                    <div *ngIf="name.errors.minlength">Debe tener mínimo 4 letras</div>
                    <div *ngIf="name.errors.forbiddenName">
                        No puede colocar ese nombre
                    </div>
                </div>
            </div>
            <hr />
            <div class="form-group text-center">
                <button class="btn btn-primary w-50" type="submit">
                    <i class="fas fa-save"></i> Guardar
                </button>
                <button *ngIf="showDeleteButton" (click)="eliminar()" class="btn btn-danger w-50" type="button">
                    <i class="fas fa-trash-alt"></i> Borrar
                </button>
            </div>
        </form>
    </div>
</div>