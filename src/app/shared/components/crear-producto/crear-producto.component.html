<div class="d-flex justify-content-between">
  <h5 mat-dialog-title class="" id="exampleModalLabel">
    Nuevo Producto
  </h5>
  <button type="button" class="close" (click)="onNoClick()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<form
  class="mt-4"
  mat-dialog-content
  (ngSubmit)="f.form.valid && addProduct(f)"
  #f="ngForm"
>
  <div>
    <label>Nombre del producto</label>
    <input
      [(ngModel)]="query"
      (keyup)="searchProduct($event)"
      type="text"
      class="form-control"
      name="searchProduct"
      placeholder="Nombre del producto"
      required
      autocomplete="off"
    />
    <div>
      <select
        [(ngModel)]="positionOfProduct"
        *ngIf="
          productsList.length > 0 &&
          productsList[positionOfProduct]?.ART_NOMBRE != query
        "
        name="selectedProduct"
        #selectedProduct
        (change)="onChangeProductSelect(positionOfProduct)"
        multiple
        class="form-control"
      >
        <option *ngFor="let product of productsList; let i = index" [value]="i">
          {{ product.ART_NOMBRE }}
        </option>
      </select>
    </div>
  </div>
  <div class="form-group mt-2">
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label>Cantidad</label>
          <input
            [(ngModel)]="invoiceDetail.DETFACPRO_CANTIDAD"
            name="count"
            #count="ngModel"
            placeholder="0"
            type="number"
            class="form-control"
            min="1"
            required
          />
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label>Descuento</label>
          <input
            [(ngModel)]="invoiceDetail.DETFACPRO_PORDES"
            name="discount"
            #discount="ngModel"
            placeholder="0"
            type="number"
            class="form-control"
            min="0"
            max="1"
            required
          />
        </div>
      </div>
    </div>
  </div>
  <div mat-dialog-actions class="d-flex justify-content-end">
    <button type="button" class="btn btn-secondary mr-2" (click)="onNoClick()">
      Cerrar
    </button>
    <button type="submit" class="btn btn-primary">AÃ±adir producto</button>
  </div>
</form>
